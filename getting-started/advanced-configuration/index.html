
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://fleet-actions.github.io/ec2-runner-pool-manager/getting-started/advanced-configuration/">
      
      
        <link rel="prev" href="../quickstart/">
      
      
        <link rel="next" href="../monitoring-troubleshooting/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Advanced Configuration - Fleet Actions</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fleet Actions" class="md-header__button md-logo" aria-label="Fleet Actions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m23 11.5-3.05-1.13c-.26-1.15-.91-1.81-.91-1.81a4.19 4.19 0 0 0-5.93 0l-1.48 1.48L5 3c-1 4 0 8 2.45 11.22L2 19.5s8.89 2 14.07-2.05c2.76-2.16 3.38-3.42 3.77-4.75zm-5.29.22c-.39.39-1.03.39-1.42 0a.996.996 0 0 1 0-1.41c.39-.39 1.03-.39 1.42 0s.39 1.02 0 1.41"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fleet Actions
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fleet Actions" class="md-nav__button md-logo" aria-label="Fleet Actions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m23 11.5-3.05-1.13c-.26-1.15-.91-1.81-.91-1.81a4.19 4.19 0 0 0-5.93 0l-1.48 1.48L5 3c-1 4 0 8 2.45 11.22L2 19.5s8.89 2 14.07-2.05c2.76-2.16 3.38-3.42 3.77-4.75zm-5.29.22c-.39.39-1.03.39-1.42 0a.996.996 0 0 1 0-1.41c.39-.39 1.03-.39 1.42 0s.39 1.02 0 1.41"/></svg>

    </a>
    Fleet Actions
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Advanced Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Advanced Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1. Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-fine-tuning-runner-lifecycle-and-resource-management" class="md-nav__link">
    <span class="md-ellipsis">
      2. Fine-Tuning Runner Lifecycle and Resource Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Fine-Tuning Runner Lifecycle and Resource Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-runner-timeouts" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Runner Timeouts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Runner Timeouts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#idle-time-sec-lifetime-in-resource-pool" class="md-nav__link">
    <span class="md-ellipsis">
      idle-time-sec: Lifetime in Resource Pool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-runtime-min-expected-max-job-duration" class="md-nav__link">
    <span class="md-ellipsis">
      max-runtime-min: Expected Max Job Duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-purchasing-options-provision-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Purchasing Options (provision mode)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instance Purchasing Options (provision mode)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage-class-on-demand-vs-spot" class="md-nav__link">
    <span class="md-ellipsis">
      usage-class: On-Demand vs Spot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed-instance-types-instance-types-by-wildcards" class="md-nav__link">
    <span class="md-ellipsis">
      allowed-instance-types: Instance types by wildcards
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-some-ami-and-pre-runner-script-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      3. Some AMI and pre-runner-script strategies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Some AMI and pre-runner-script strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-runner-script" class="md-nav__link">
    <span class="md-ellipsis">
      pre-runner-script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-resource-classes-for-varied-workloads" class="md-nav__link">
    <span class="md-ellipsis">
      4. Resource Classes for Varied Workloads
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Resource Classes for Varied Workloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-defined-resource-classes-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Defined Resource Classes &amp; Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-resource-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Resource Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-permission-network-hardening" class="md-nav__link">
    <span class="md-ellipsis">
      5. Permission &amp; Network Hardening
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Permission &amp; Network Hardening">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-least-privilege" class="md-nav__link">
    <span class="md-ellipsis">
      IAM Least Privilege
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IAM Least Privilege">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-entity-for-the-controlplane" class="md-nav__link">
    <span class="md-ellipsis">
      IAM Entity for the ControlPlane
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-entity-for-the-ec2-instance-profile" class="md-nav__link">
    <span class="md-ellipsis">
      IAM Entity for the EC2 Instance Profile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-security" class="md-nav__link">
    <span class="md-ellipsis">
      Network Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Network Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Security Groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnets-and-vpc-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Subnets and VPC Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring-troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring and Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/lifecycle-walkthrough/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lifecycle Walkthrough
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Provision
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Provision
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/provision/provision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2" id="__nav_3_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Selection
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Selection
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/provision/selection/pickup-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pickup Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/provision/selection/claim-workers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Claim Workers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Creation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            Creation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/provision/creation/fleet-creation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fleet Creation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/provision/creation/fleet-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fleet Validation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/provision/post-provision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post Provision
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/refresh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refresh
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Others
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Others
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/instance-initialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instance Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/resource-pool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource Pool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/basic-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/advanced-scenarios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Scenarios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1. Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-fine-tuning-runner-lifecycle-and-resource-management" class="md-nav__link">
    <span class="md-ellipsis">
      2. Fine-Tuning Runner Lifecycle and Resource Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Fine-Tuning Runner Lifecycle and Resource Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-runner-timeouts" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Runner Timeouts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Runner Timeouts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#idle-time-sec-lifetime-in-resource-pool" class="md-nav__link">
    <span class="md-ellipsis">
      idle-time-sec: Lifetime in Resource Pool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-runtime-min-expected-max-job-duration" class="md-nav__link">
    <span class="md-ellipsis">
      max-runtime-min: Expected Max Job Duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-purchasing-options-provision-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Purchasing Options (provision mode)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instance Purchasing Options (provision mode)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage-class-on-demand-vs-spot" class="md-nav__link">
    <span class="md-ellipsis">
      usage-class: On-Demand vs Spot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed-instance-types-instance-types-by-wildcards" class="md-nav__link">
    <span class="md-ellipsis">
      allowed-instance-types: Instance types by wildcards
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-some-ami-and-pre-runner-script-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      3. Some AMI and pre-runner-script strategies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Some AMI and pre-runner-script strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-runner-script" class="md-nav__link">
    <span class="md-ellipsis">
      pre-runner-script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-resource-classes-for-varied-workloads" class="md-nav__link">
    <span class="md-ellipsis">
      4. Resource Classes for Varied Workloads
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Resource Classes for Varied Workloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-defined-resource-classes-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Defined Resource Classes &amp; Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-resource-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Resource Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-permission-network-hardening" class="md-nav__link">
    <span class="md-ellipsis">
      5. Permission &amp; Network Hardening
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Permission &amp; Network Hardening">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-least-privilege" class="md-nav__link">
    <span class="md-ellipsis">
      IAM Least Privilege
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IAM Least Privilege">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-entity-for-the-controlplane" class="md-nav__link">
    <span class="md-ellipsis">
      IAM Entity for the ControlPlane
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-entity-for-the-ec2-instance-profile" class="md-nav__link">
    <span class="md-ellipsis">
      IAM Entity for the EC2 Instance Profile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-security" class="md-nav__link">
    <span class="md-ellipsis">
      Network Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Network Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Security Groups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnets-and-vpc-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Subnets and VPC Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="advanced-configuration">Advanced Configuration <img alt="üèó" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3d7.svg" title=":construction_site:" /></h1>
<h2 id="1-introduction">1. Introduction</h2>
<p>This document explores the additional optional inputs given opened up to the controlplane. See the <a href="../prerequisites/">Prerequisites</a> and <a href="../quickstart/">Quickstart</a> for the initial setup guides.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hopefully this page can stand by itself, but feel free to read through the <a href="../../architecture/overview/">Architecture</a> to see this from a wider context.</p>
</div>
<h2 id="2-fine-tuning-runner-lifecycle-and-resource-management">2. Fine-Tuning Runner Lifecycle and Resource Management</h2>
<h3 id="understanding-runner-timeouts">Understanding Runner Timeouts</h3>
<p>Several inputs in the <code>refresh</code> mode control how long runners live and how often their configurations. Finding the right balance is crucial:</p>
<div class="admonition tip">
<p class="admonition-title"><strong>Strategy</strong> <img alt="üìè" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cf.svg" title=":straight_ruler:" /></p>
<p>Start with the defaults. If you notice frequent cold starts and your budget allows, consider increasing <code>idle-time-sec</code>. If cost is a primary concern, shorten <code>idle-time-sec</code> but monitor workflow times. Ensure <code>max-runtime-min</code> accommodates your longest jobs.</p>
</div>
<h4 id="idle-time-sec-lifetime-in-resource-pool"><code>idle-time-sec</code>: Lifetime in Resource Pool <img alt="üèä" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3ca.svg" title=":person_swimming:" /></h4>
<p>Defined at the <code>refresh</code> level with a default of 300s/5m. This defines how long the instance lives in the resource pool for following workflows to pickup! If in the pool for too long, the instance will be terminated by <code>refresh</code> or will undergo self-termination.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Refresh Mode</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">refresh</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">          </span><span class="c1"># idle-time-sec: 300 # &lt;---- (Default: 300 seconds)</span>
</code></pre></div>
<details class="note">
<summary><code>idle-time-sec</code> - Shorter or Longer <img alt="ü§î" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f914.svg" title=":thinking:" /></summary>
<ul>
<li><strong>Shorter:</strong> Reduces costs by terminating idle instances sooner. However, it might lead to more "cold starts" if subsequent jobs arrive just after an instance terminated, increasing wait times.</li>
<li><strong>Longer:</strong> Increases runner availability and reduces cold starts, but can lead to higher costs due to instances sitting idle for longer.</li>
<li>Align this with your typical job arrival patterns. If jobs are infrequent, a shorter idle time might be better. If jobs are frequent, a longer idle time can improve CI/CD pipeline speed.</li>
</ul>
</details>
<h4 id="max-runtime-min-expected-max-job-duration"><code>max-runtime-min</code>: Expected Max Job Duration <img alt="üèÉ" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3c3.svg" title=":person_running:" /></h4>
<p>Defined at the <code>refresh</code> level (default: 30 minutes) and overridable at the <code>provision</code> level, this parameter sets the maximum active duration for an instance <em>between its assignment to a workflow and its release back to the pool</em>.</p>
<p>It acts as a <strong>critical safeguard</strong>, enabling the control plane to safely terminate instances. This prevents them from being stranded due to misconfigured <code>release</code> jobs or other unforeseen issues that would otherwise leave resources unreleased.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Refresh Mode</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">refresh</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">          </span><span class="c1"># max-runtime-min: 30 # &lt;---- (Default: 30m)</span>
</code></pre></div>
<p>Overriding at the <code>provision</code> level. The operator can set some expectations for the controlplane to say how long a specific workflow can take from <code>provision</code> to <code>release</code> and control this timeouts at a workflow level instead of at the repo level.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">          </span><span class="c1"># max-runtime-min: 30 # &lt;---- (overrides refresh input if provided)</span>
</code></pre></div>
<details class="note">
<summary><code>max-runtime-min</code> - Shorter or Longer <img alt="ü§î" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f914.svg" title=":thinking:" /></summary>
<ul>
<li><strong>Recommendation</strong> Be conservative. Whatever your longest running job is at a workflow, add 10-15 minutes to it to avoid pre-mature termination.</li>
<li>This can be set at either the <code>refresh</code> or <code>provision</code> level to set per-workflow expectations.</li>
</ul>
</details>
<h3 id="instance-purchasing-options-provision-mode">Instance Purchasing Options (<code>provision</code> mode)</h3>
<p>The <code>provision</code> mode offers ways to control the type and cost of EC2 instances provisioned for specific workflows.</p>
<h4 id="usage-class-on-demand-vs-spot"><code>usage-class</code>: On-Demand vs Spot</h4>
<p>You can specify whether to provision <code>on-demand</code> or <code>spot</code> instances at the workflow level using the <code>usage-class</code> input in <code>provision</code> mode. The default is <code>on-demand</code>. It's generally recommended to use <code>on-demand</code> instances for critical workflows and <code>spot</code> instances for non-critical CI tasks.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">          </span><span class="c1"># usage-class: on-demand # &lt;---- (Default: on-demand)</span>
</code></pre></div>
<div class="admonition success">
<p class="admonition-title"> The Right Match: On-Demand vs. Spot <img alt="ü§ù" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f91d.svg" title=":handshake:" /></p>
<p>The controlplane is able to discriminate between instances which have <code>on-demand</code> or <code>spot</code> lifecycles. If none available, the contolplane creates specific instances faithful to the <code>usage-class</code> constraint.</p>
</div>
<h4 id="allowed-instance-types-instance-types-by-wildcards"><code>allowed-instance-types</code>: Instance types by wildcards</h4>
<p>This input accepts a space-separated list of EC2 instance types (e.g., <code>m5.large c6i* r*</code>) or family wildcards (e.g., <code>c*</code>, <code>m*</code>, <code>r*</code>) that the workflow should use. Instances matching these patterns will be selected from the existing resource pool or provisioned if new ones are needed. This capability aligns with the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-properties-ec2-ec2fleet-instancerequirementsrequest.html">AWS AllowedInstanceTypes</a> specification.</p>
<p>The default is <code>c* m* r*</code>. This setting allows the control plane to choose from a wide array of <a href="https://aws.amazon.com/ec2/instance-types/">instance types</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">          </span><span class="c1"># allowed-instance-types: &quot;c* m* r*&quot; # &lt;---- (Default: &quot;c* m* r*&quot;)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Be generous with <code>usage-class: spot</code> <img alt="üêü" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f41f.svg" title=":fish:" /></p>
<p>Telling the controlplane to use spot instances for the workflow? Cast your net wide! Defer to the generous <code>c* m* r*</code> defaults to ensure that AWS always has capacities for your instances when your workflow asks for these instances.</p>
</div>
<div class="admonition success">
<p class="admonition-title">The Right Match: <code>allowed-instance-types</code></p>
<p>Similar to <code>usage-class</code>, the controlplane is able to discriminate instances from the shared resource pool given the patterns and instance types specified in <code>allowed-instance-types</code>.</p>
</div>
<h2 id="3-some-ami-and-pre-runner-script-strategies">3. Some AMI and <code>pre-runner-script</code> strategies</h2>
<p>Bake as much in to the AMI image as you can to ensure timely startup times. As per <a href="../quickstart/">Quickstart</a>, feel free to use Runs-On's machine images to not worry about any of this. However if you do decide to roll your own, there are a couple of hard requirements to ensure proper functionality:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <code>git</code> &amp; <code>docker</code>: Checking out code and running containers</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <code>aws cli</code>: Controlplane communication via dynamodb</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <code>libicu</code>: Configuring instances against github actions as a self-hosted runner</li>
</ul>
<h3 id="pre-runner-script"><code>pre-runner-script</code></h3>
<p>Here are some recommended scripts when using various bare AMI images.</p>
<div class="admonition info">
<p class="admonition-title">Refining recommended scripts</p>
<p>If any of these scripts do not work to initialize the runners, feel free to raise a pull request! It would be much appreciated ~ üôè</p>
</div>
<details class="example">
<summary>Amazon Linux 2023</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">          </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-123</span><span class="w"> </span><span class="c1"># &lt;--- AL2023 image</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">          </span><span class="nt">pre-runner-script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">            </span><span class="no">#!/bin/bash</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">            </span><span class="no">sudo yum update -y &amp;&amp; \</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">            </span><span class="no">sudo yum install docker -y &amp;&amp; \</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">            </span><span class="no">sudo yum install git -y &amp;&amp; \</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">            </span><span class="no">sudo yum install libicu -y &amp;&amp; \</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">            </span><span class="no">sudo systemctl enable docker</span>
</code></pre></div>
</details>
<details class="example">
<summary>Ubuntu 24</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">          </span><span class="nt">ami</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ami-123</span><span class="w"> </span><span class="c1"># &lt;--- Ubuntu 24</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">          </span><span class="nt">pre-runner-script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">            </span><span class="no">#!/bin/bash</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">            </span><span class="no">sudo apt update &amp;&amp; sudo apt upgrade -y</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">            </span><span class="no">sudo apt install -y docker.io git libicu-dev unzip curl</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">            </span><span class="no"># AWS CLI v2 --&gt; x86_64</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">            </span><span class="no">curl &quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot; -o &quot;awscliv2.zip&quot;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">            </span><span class="no">unzip awscliv2.zip</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">            </span><span class="no">sudo ./aws/install</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">            </span><span class="no">rm -rf awscliv2.zip aws</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">            </span><span class="no">sudo systemctl enable docker</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">            </span><span class="no">sudo systemctl start docker</span>
</code></pre></div>
</details>
<h2 id="4-resource-classes-for-varied-workloads">4. Resource Classes for Varied Workloads</h2>
<p>The operator can control the size of the instances at the level of the workflow (ie. <code>provision</code>) - with sizes defined at the level of the repo (ie. <code>refresh</code>). The former is specifies the resource class of the instance for the workflow (via <code>resource-class</code>), and the latter specifies the valid resource classes (via <code>resource-class-config</code>).</p>
<h3 id="pre-defined-resource-classes-usage">Pre-Defined Resource Classes &amp; Usage</h3>
<p>The controlplane provides a comprehensive set of resource classes that can be used at a workflow level. At the time of this writing. the defaults are the following:</p>
<table>
<thead>
<tr>
<th>Resource Class</th>
<th>CPU (cores)</th>
<th>Minimum Memory (MB)</th>
</tr>
</thead>
<tbody>
<tr>
<td>large</td>
<td>2</td>
<td>4,096</td>
</tr>
<tr>
<td>xlarge</td>
<td>4</td>
<td>8,192</td>
</tr>
<tr>
<td>2xlarge</td>
<td>8</td>
<td>16,384</td>
</tr>
<tr>
<td>4xlarge</td>
<td>16</td>
<td>32,768</td>
</tr>
<tr>
<td>8xlarge</td>
<td>32</td>
<td>65,536</td>
</tr>
<tr>
<td>12xlarge</td>
<td>48</td>
<td>98,304</td>
</tr>
<tr>
<td>16xlarge</td>
<td>64</td>
<td>131,072</td>
</tr>
</tbody>
</table>
<p>And to use these pre-defined resource classes, simply specify the <code>resource-class</code> attribute at the <code>provision</code> level</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">          </span><span class="nt">resource-class</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;xlarge&quot;</span><span class="w"> </span><span class="c1"># &lt;---- (Default: &quot;large&quot;)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Greater control with <code>allowed-instance-types</code></p>
<p>Say that for a specific workflow, you have specified the following:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">          </span><span class="nt">resource-class</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;xlarge&quot;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">          </span><span class="nt">allowed-instance-types</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;c6*</span><span class="nv"> </span><span class="s">m5*&quot;</span>
</code></pre></div>
Then the controlplane will only pick up resources tagged with <code>xlarge</code> given that their instance types match with the <code>c6</code> and <code>m5</code> families. If none available from the pool, then only instances which fulfill these requirements will be provisioned.</p>
</div>
<div class="admonition success">
<p class="admonition-title">The Right Match: <code>resource-class</code></p>
<p>Similar to <code>usage-class</code> and <code>allowed-instance-types</code> - the controlplane is able to discriminate instances from the shared resource pool given the specified <code>resource-class</code>.</p>
</div>
<details class="note">
<summary>Keeping consistent with AWS üìö</summary>
<ul>
<li><strong>Naming Convention</strong>: Resource class names align with <a href="https://aws.amazon.com/ec2/instance-types/">AWS EC2 instance type naming</a> (e.g., <code>large</code> = 2 CPU cores, <code>xlarge</code> = 4 CPU cores, etc.)</li>
<li><strong>Memory Allocation</strong>: Memory values represent minimum requirements and are set at approximately 2GB per CPU core. This ensures compatibility across the mainstream instance families:<ul>
<li>Compute-optimized instances (<code>c</code> family): ~2GB per core</li>
<li>General-purpose instances (<code>m</code> family): ~4GB per core</li>
<li>Memory-optimized instances (<code>r</code> family): ~8GB per core</li>
</ul>
</li>
</ul>
</details>
<h3 id="custom-resource-classes">Custom Resource Classes</h3>
<p>If you have custom requiremetns - here's an example. Note that this this overrides the pre-defined resource classes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># in refresh.yml</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Refresh Mode</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">refresh</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">          </span><span class="nt">resource-class-config</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{</span><span class="nv"> </span><span class="s">&quot;custom-large&quot;:</span><span class="nv"> </span><span class="s">{</span><span class="nv"> </span><span class="s">&quot;cpu&quot;:</span><span class="nv"> </span><span class="s">4,</span><span class="nv"> </span><span class="s">&quot;mmem&quot;:</span><span class="nv"> </span><span class="s">8000</span><span class="nv"> </span><span class="s">},</span><span class="nv"> </span><span class="s">&quot;custom-extra-large&quot;:</span><span class="nv"> </span><span class="s">{</span><span class="nv"> </span><span class="s">&quot;cpu&quot;:</span><span class="nv"> </span><span class="s">8,</span><span class="nv"> </span><span class="s">&quot;mmem&quot;:</span><span class="nv"> </span><span class="s">16000</span><span class="nv"> </span><span class="s">}</span><span class="nv"> </span><span class="s">}&#39;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># in ci.yml</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Provision Mode</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fleet-actions/ec2-runner-pool-manager@main</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">          </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">provision</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">          </span><span class="nt">resource-class</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;custom-large&quot;</span>
</code></pre></div>
<h2 id="5-permission-network-hardening">5. Permission &amp; Network Hardening</h2>
<p>Beyond the basic IAM policies in <a href="../prerequisites/">Prerequisites</a>, feel free to further harden IAM Policies and the Networking around the provided subnets.</p>
<h3 id="iam-least-privilege">IAM Least Privilege</h3>
<h4 id="iam-entity-for-the-controlplane">IAM Entity for the ControlPlane</h4>
<ul>
<li>When configuring credentials with <code>aws-actions/configure-aws-credentials</code>, it is recommended to use <a href="https://github.com/aws-actions/configure-aws-credentials?tab=readme-ov-file#oidc">OIDC</a> to prevent the usage of permanent credentials within CI.</li>
<li>
<p><code>iam:PassRole</code> - Once you know the exact role the controlplane is passing on to the instances, I highly recommend adding its ARN to the</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;iam:PassRole&quot;</span><span class="p">],</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="c1">// &lt;--- arn of the role</span>
</code></pre></div>
</li>
<li>
<p>SQS &amp; DynamoDB - These resources are created with a repo-specific prefix which we can use to harden the IAM policy further <code>fleet-actions-ec2-runner-pool-manager</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">// DDB</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="nt">&quot;arn:aws:dynamodb:*:*:table/{repo-owner}-{repo-name}-*&quot;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1">// SQS</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arn:aws:sqs:*:*:{repo-owner}-{repo-name}-*&quot;</span>
</code></pre></div>
</li>
</ul>
<h4 id="iam-entity-for-the-ec2-instance-profile">IAM Entity for the EC2 Instance Profile</h4>
<p>At a minimum, the role given to the instance needs to be able to self-terminate and read-write from a ddb table. As such, we can explore two avenues of hardening the role handed to the ec2 instance beyond the minimum defined in the <a href="../prerequisites/#4-iam-role--instance-profile-for-ec2-instances">Prerequisites</a>:</p>
<ul>
<li><strong>Self-Termination</strong>: Can use <a href="https://www.reddit.com/r/aws/comments/6tnuxw/selfreferential_arns/">Self referencial ARNs</a> to ensure that <code>aws ec2 terminate-instances</code> can only be really delivered to the instance that calls it.</li>
<li><strong>Read &amp; Write DynamoDB Table</strong>: As above, restrict the resource to an arn that follows the repo-owner and repo-name <code>"arn:aws:dynamodb:*:*:table/{repo-owner}-{repo-name}-*"</code></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Interacting with other AWS Services ‚òÅÔ∏è</p>
<p>If your self-hosted runner needs to communicate with other AWS services (ie. <code>s3</code>), feel free to expand the EC2 instance profile - but always ensure that the minimum permissions specified here are included.</p>
</div>
<details class="tip">
<summary>Add <code>AmazonSSMManagedInstanceCore</code> - connect to your self-hosted runners ‚≠ê</summary>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect-with-systems-manager-session-manager.html">Session Manager</a> is my favourite way to connect to instances as they do not require bastion hosts or managing SSH keys. I recommend expanding your EC2 instance role with AWS Managed Policy <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-getting-started-instance-profile.html">AmazonSSMManagedInstanceCore</a>. When used with Machine Images built on Amazon Linux 2023 and Ubuntu - Session Manager should work out of the box as the <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/manually-install-ssm-agent-linux.html">SSM Agent is pre-installed</a> ü§©</p>
</details>
<h3 id="network-security">Network Security</h3>
<h4 id="security-groups">Security Groups</h4>
<p>Only allow outbound traffic necessary. Outbound traffic can be further restricted as per Github's prescription <a href="https://docs.github.com/en/actions/hosting-your-own-runners/managing-self-hosted-runners/communicating-with-self-hosted-runners">self-hosted runner communication</a>.</p>
<h4 id="subnets-and-vpc-endpoints">Subnets and VPC Endpoints</h4>
<p>We recommend adding <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html">VPC endpoints</a> to your VPC's route tables if you prefer to keep AWS service calls off the public internet. The self-hosted runners already make calls to DynamoDB in the background so a Gateway Endpoints will bring those network costs to zero. Furthermore, if you need to pull container images from ECR or access artifacts in S3, consider adding the S3 Gateway Endpoint as well.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../quickstart/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Quickstart">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Quickstart
              </div>
            </div>
          </a>
        
        
          
          <a href="../monitoring-troubleshooting/" class="md-footer__link md-footer__link--next" aria-label="Next: Monitoring and Troubleshooting">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Monitoring and Troubleshooting
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.footer"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>